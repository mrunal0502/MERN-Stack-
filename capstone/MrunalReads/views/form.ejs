<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Info</title>
    <link rel="stylesheet" href="/styles/form.css" />
</head>

<body>
    <div class="container">

        <header>
            <h1>
                <%= editing ? 'Update Book' : 'Add a New Book' %>
            </h1>
        </header>
        <form action="<%= editing ? '/edit/' + book.id : '/add' %>" method="POST" class="book-form">
            <div>
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" required value="<%= book ? book.title : '' %>" />
            </div>
            <div>
                <label for="date_read">Date Read:</label>
                <input type="date" id="date_read" name="date_read" required
                    value="<%= book && book.date_read ? new Date(book.date_read).toISOString().slice(0,10) : '' %>" />
            </div>
            <div>
                <label for="rating">Rating (1-10):</label>
                <input type="number" id="rating" name="rating" min="1" max="10" required
                    value="<%= book ? book.rating : '' %>" />
            </div>
            <div>
                <label for="summary">Summary:</label>
                <textarea id="summary" name="summary" rows="4" required><%= book ? book.summary : '' %></textarea>
            </div>
            <button type="submit">
                <%= editing ? 'Update Book' : 'Add Book' %>
            </button>
        </form>
        <a href="/" style="display:inline-block; margin-top:1rem;">&larr; Back to list</a>
    </div>
</body>

</html>